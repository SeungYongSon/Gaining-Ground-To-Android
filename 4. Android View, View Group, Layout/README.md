# 4. 안드로이드 뷰, 뷰 그룹, 레이아웃

사용자는 눈으로 보고 만지면서 안도르이드 장치를 조작한다. 이런 모든 상호작용은 장치에 설치된 애플리케이션의 사용자 인터페이스를 통해 일어난다.  

결국, 안드로이드 애플리케이션의 핵심 요소는 사용자 인터페이스의 디자인과 생성이라고 해도 과언이 아니다.

이번 장에는 안드로이드 사용자 인터페이스를 함께 구성하는 서로 다른 요소인 View, View Group, Layout에 대해 알아보자.

## 4-1. 서로 다른 안드로이드 장치를 위한 디자인

안드로이드 장치라고 하면 서로 다른 화면 크기와 해상도를 갖고 많은 종류의 스마트폰과 태블릿 및 시계처럼 몸에 착용하는 장치들을 포괄한다. 결국, 애플리케이션의 사용자 인터페이스는 가능한 한 많은 종류의 화면 크기에서 제대로 보일 수 있도록 디자인되어야 한다. 이때 가장 중요한 것은 서로 다른 장치에서 애플리케이션이 실행될 때 사용자 인터페이스 레이아웃의 크기 조정이 올바르게 될 수 있게 하는 것이다. 이는 레이아웃을 신중하게 계획하고 사용했을 때 가능하다.

그리고 또 염두해 둘 것은 안드로이드 기반의 스마트폰과 태블릿은 상요자가 세로와 가로 방향 모두 사용할 수 있다는 것이다. 따라서 디자인이 잘된 사용자 인터페이스라면 모든 방향에서 그런 변경에 적응할 수 있어야 하고, 사용 가능한 화면 공간을 잘 활용하기 위한 레이아웃 조정을 할 수 있어야 한다.

## 4-2. 뷰와 뷰 그룹

안드로이드에서 사용자 인터페이스의 모든 요소는 View 클래스(android.view.View)의 서브 클래스다. 안드로이드 SDK에서는 사용자 인터페이스를 구성하는 데 사용 할 수 있는 여러 뷰 클래스를 제공한다. Button, CheckBox, ProgressBar, TextView 클래스 등이 있다. 그런 뷰들을 위젯(widget) 또는 컴포넌트(component)라고도 한다. SDK에서 지원하지 않는 위젯이 필요할 때는 기존 뷰 클래스의 서브 클래스를 만들거나 또는 View 클래스로부터 상속받는 아예 새로운 컴포넌트를 생성하여 새로운 뷰를 만들 수 있다.

뷰는 여러 개의 다른 뷰로 구성될 수 있으며 이것을 복합 뷰(composite view)라고도 한다. 그런 뷰들은 안드로이드 ViewGroup 클래스(android.view.ViewGroup)로부터 상속받는다(ViewGroup 클래스 자신은 View의 서브 클래스다). 예를들어 RadioGroup이 있다. 이것은 여러 개의 RadioButton 객체들은 포함하여 항상 하나의 버튼만이 선택될 수 있게 한 것이다. 구조적인 관점에서 복합 뷰는 다른 뷰(자식 뷰(child view))들을 포함할 수 있는 하나의 부모 뷰(parent view)(바로 위의 RadioGroup)로 구성된다. 그리고 그 부모 뷰는 ViewGroup 클래스로 부터 상속받으며, 컨테이너 뷰(container View) 또는 루트 요소(root element)라고도 한다. 또 다른 부류의 ViewGroup 기반 컨테이너 뷰로 레이아웃 매니저(layout manager)가 있다.

## 4-3. 안드로이드 레이아웃 매니저

위에서 말한 위젯 형태의 뷰에 추가하여 안드로이드 SDK에서는 레이아웃(layout)이라고 하는 뷰들도 제공한다. 레이앗웃은 컨테이너 뷰이므로 ViewGroup의 서브 클래스이며, 자식 뷰들을 화면에 위치시큰 방법을 제어하는 목적으로 설계되었다.

안드로이드 SDK에는 아래의 레이아웃 뷰들이 포함되어 있으며, 이것들은 안드로이드 사용자 인터페이스 디자인 내부에서 사용될 수 있다.

- **ConstraintLayout** - 안드로이드 7(누가)에서 소개되었으며, 안드로이드 스튜디오 2.3 버전부터는 새로운 프로젝트를 생성할 때 기본 레이아웃으로 지정된다. ConstraintLayout에서는 레이아웃에 뷰를 배치하고 동작 시킬 때 constraint(제약)를 각 자식 뷰에 지정한다. 이 레이아웃을 사용하면 서로 다른 레이아웃을 중첩시키지 않고 복잡한 레이아웃을 만들 수 있으므로 유연성이 좋고 성능이 향상된다. ConstraintLayout은 안드로이드 스튜디오 레이아웃 편집기와 밀접하게 통합되어 있다.

- **LinearLayout** - 선택된 방향(수직 또는 수평)에 따라 하나의 행이나 열에 자식 뷰를 배치한다. 각 자식 뷰에는 가중치(weight value)를 설정할 수 있다. 이것은 해당 자식 뷰가 다른 자식 뷰에 비해 얼마나 많은 레이아웃 공간을 차지할 것인지를 지정하는 값이다.
