# 3. 안드로이드 애플리케이션과 액티비티 생명주기

시간이 지날수록 모바일 장치의 메모리나 컴퓨팅 능력이 향상되고 있지만 컴퓨터 시스템에 비해 여전히 제한된 리소스를 고려해야 한다. 특히, 메모리가 그렇다. 안드로이드 시스템에도 그런 제한된 리소스를 효율적으로 관리해야 한다. 운영체제와 애플리케이션 모두에서 그렇다. 그러면서 항상 사용자에게 응답할 수 있어야 한다. 따라서 안드로이드 시스템에서는 애플리케이션과 애플리케이션을 구성하는 각 컴포넌트 모두의 생명주기와 상태를 전적으로 통제한다. 그러므로 안드로이드 애플리케이션과 액티비티 생명주기 관리 모델을 이해하는 것이 중요하다. 또한, 애플리케이션이 실행하는 동안 상태 변경에 대처할 수 있는 방법도 알야아 한다. 

이 장에서는 안드로이드 런타임 시스템에서 실행되는 애플리케이션과 액티비티의 생명주기(lifecycle)에 대해 알아보자.


## 3-1. 안드로이드 애플리케이션과 리소스 관리

안드로이드 5.0 롤리팝 이전에는 안드로이드 애플리케이션이 달빅 가상 머신(Dalvik Virtual Machine)의 인스턴스에 실행되고, 각 가상 머신은 운영체제(리눅스)의 별개 프로세스로 실행되었다. 그러나 그 이후 안드로이드 버젼 부터는 가상 머신이 없어지고 안드로이드 런타임(ART) 시스템의 통제하에 리눅스 프로세스로 실행된다. 만약 장치의 리소스(특히 메모리)가 한계에 도달하면 안드로이드 시스템에서 메모리를 해제하기 위해 프로세스들을 중단시키는 조치를 취한다.

메모리 헤제를 위해 어떤 프로세스를 중단시킬지 결정할 때 시스템에서 현재 실행 중인 모든 프로세스들의 우선순위(priority)와 상태(state) 모두 고려한다. 이때, 그런 요소들을 결합하여 구글에서 이야기하는 중요도 서열(importance hierarchy)이라는 것을 생성한다. 그다음에 가장 낮은 순위의 프로세들부터 중단을 시작해서 시스템이 기능을 수행하는 데 충분한 리소스가 해제될 때까지 작업을 반복한다.
